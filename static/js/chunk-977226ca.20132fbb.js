(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-977226ca"],{"0daa":function(e,t,s){"use strict";var a=s("32fa"),n=s.n(a);n.a},1699:function(e,t,s){"use strict";var a=s("7d68"),n=s.n(a);n.a},"21a2":function(e,t,s){"use strict";var a=s("781f"),n=s.n(a);n.a},"32fa":function(e,t,s){},"3fb6":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container glass"},[!e.userBasicInfo.userToken&&["login","regist"].includes(e.page)?s("div",{staticClass:"form-box"},[s("transition",{attrs:{name:"slide-login"}},["login"===e.page?s("UserLogin",{attrs:{changePage:function(t){return e.page=t}}}):e._e()],1),s("transition",{attrs:{name:"slide-regist"}},["regist"===e.page?s("UserRegist",{attrs:{changePage:function(t){return e.page=t}}}):e._e()],1)],1):e._e(),e.userBasicInfo.userToken&&!["login","regist"].includes(e.page)?s("div",{staticClass:"user-info"},[s("transition",{attrs:{name:"fade-in"}},["home"===e.page?s("UserInfo",{attrs:{changePage:function(t){return e.page=t}}}):e._e()],1)],1):e._e()])},n=[],i=s("5530"),o=s("2f62"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("div",{staticClass:"login-form"},[s("div",{staticClass:"form-title"},[s("h2",{staticClass:"login"},[e._v("登 录")]),s("span",{staticClass:"regist",on:{click:function(t){return e.changePage("regist")}}},[e._v("注册")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.userName,expression:"userName"}],attrs:{type:"text",name:"username",placeholder:"用户名",autocomplete:"off"},domProps:{value:e.userName},on:{input:function(t){t.target.composing||(e.userName=t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.userPasswd,expression:"userPasswd"}],attrs:{type:"password",name:"password",placeholder:"密码",autocomplete:"off"},domProps:{value:e.userPasswd},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)},input:function(t){t.target.composing||(e.userPasswd=t.target.value)}}}),e._m(0),s("button",{on:{click:e.login}},[e._v("登录")])]),e.loading?s("el-loading"):e._e()],1)},c=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"third-part-login"},[s("div",{staticClass:"title"},[e._v("第三方登录:")]),s("div",{staticClass:"login-qq"}),s("div",{staticClass:"login-wechat"})])}],u=(s("d3b7"),s("bf92")),l=s("4f72"),d=s("5c96"),f=void 0,g={props:{changePage:{type:Function,required:!0}},data:function(){return{userName:"",userPasswd:"",loading:!1}},mounted:function(){this.userName=Object(l["f"])()},computed:{userInfo:function(){var e=f.getUserBasicInfo();return f.userName=e.userName||Object(l["f"])(),e}},components:{elLoading:d["Loading"]},methods:Object(i["a"])({login:function(){var e=this,t=this.$data,s=t.userName,a=t.userPasswd,n=Object(l["b"])(s,a);if(!n.flag)return d["Notification"].error(n.message);setTimeout((function(){return e.loading=!1}),3e4),u["a"].PostUserLogin({userName:this.$data.userName,userPasswd:this.$data.userPasswd,loginType:0}).then((function(t){Object(l["i"])(e.userName,t.token),Object(l["j"])(e.userName),d["Notification"].success(t.msg),e.fetchUserInfoAll(),e.changePage("home"),e.$store.commit("UPDATE_USER_INFO",{token:t.token,userName:e.userName})})).finally((function(){return e.loading=!1}))},fetchUserInfoAll:function(){var e=this;u["a"].fetchUserInfoAll().then((function(t){return e.$store.commit("UPDATE_USER_INFO_ALL",t.data)}),(function(e){return console.log(e)}))}},Object(o["b"])(["getUserBasicInfo"]))},m=g,v=(s("21a2"),s("2877")),p=Object(v["a"])(m,r,c,!1,null,"25a5f0c8",null),h=p.exports,_=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("div",{staticClass:"regist-form"},[s("div",{staticClass:"form-title"},[s("span",{staticClass:"regist"},[e._v("注册")]),s("h2",{staticClass:"login",on:{click:function(t){return e.changePage("login")}}},[e._v("登 录")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.userName,expression:"userName"}],attrs:{type:"text",name:"username",placeholder:"请输入用户名",autocomplete:"off"},domProps:{value:e.userName},on:{input:function(t){t.target.composing||(e.userName=t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.userPasswd,expression:"userPasswd"}],attrs:{type:"password",name:"password",placeholder:"请输入密码",autocomplete:"off"},domProps:{value:e.userPasswd},on:{input:function(t){t.target.composing||(e.userPasswd=t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.userPasswdRe,expression:"userPasswdRe"}],attrs:{type:"password",name:"password",placeholder:"确认密码",autocomplete:"off"},domProps:{value:e.userPasswdRe},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.regist(t)},input:function(t){t.target.composing||(e.userPasswdRe=t.target.value)}}}),s("button",{on:{click:e.regist}},[e._v("注册")])]),e.loading?s("el-loading"):e._e()],1)},w=[],C={props:{changePage:{type:Function,required:!0}},data:function(){return{userName:"",userPasswd:"",userPasswdRe:"",loading:!1}},components:{elLoading:d["Loading"]},methods:{regist:function(){var e=this,t=this.$data,s=t.userName,a=t.userPasswd,n=t.userPasswdRe,i=Object(l["a"])(s,a,n);if(!i.flag)return d["Notification"].error(i.message);setTimeout((function(){return e.loading=!1}),3e4),u["a"].PostUserRegist({userName:this.userName,userPasswd:this.userPasswd}).then((function(t){localStorage.setItem("userName",e.userName),e.changePage("login"),d["Notification"].success(t.msg)}),(function(e){console.log(e)})).finally((function(){return e.loading=!1}))}}},P=C,N=(s("b107"),Object(v["a"])(P,_,w,!1,null,"70ccb8ae",null)),b=N.exports,k=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("div",{staticClass:"user-background",on:{click:e.editUserBackground}},[s("div",{staticClass:"user-avator-wrap"},[s("div",{staticClass:"user-avator"},[e.userInfo.avator?e._e():s("i",{staticClass:"el-icon-user-solid"}),e.userInfo.avator?s("div",{staticClass:"user-avator-img"}):e._e()])])]),s("div",{staticClass:"user-profile"},[s("div",{staticClass:"user-operater"},[s("div",{staticClass:"btns"},[s("div",{staticClass:"btn",on:{click:function(t){e.showBtns=!e.showBtns}}},[s("i",{staticClass:"el-icon-more"})]),e.showBtns?s("div",{staticClass:"op-btns"},[s("div",{staticClass:"items",on:{click:function(t){return t.stopPropagation(),e.editInfo(t)}}},[e._v("信息")]),s("div",{staticClass:"items",on:{click:function(t){return t.stopPropagation(),e.fllow(t)}}},[e._v("关注")]),s("div",{staticClass:"items",on:{click:function(t){return t.stopPropagation(),e.fans(t)}}},[e._v("粉丝")]),s("div",{staticClass:"items",on:{click:function(t){return t.stopPropagation(),e.logout(t)}}},[e._v("退出")])]):e._e()])])]),s("div",{staticClass:"user-interaction-data"},[s("div",{staticClass:"content"},[s("div",{staticClass:"user-name"},[e._v(e._s(e.userInfo.name))]),e._m(0)])]),s("div",{staticClass:"watcher"},[s("live2d")],1)])},I=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user-interaction-wrap"},[s("div",{staticClass:"download",attrs:{title:"下载次数"}},[s("i",{staticClass:"el-icon-download"}),s("span",[e._v("20")])]),s("div",{staticClass:"upload",attrs:{title:"上传次数"}},[s("i",{staticClass:"el-icon-upload2"}),s("span",[e._v("23")])]),s("div",{staticClass:"support",attrs:{title:"点赞次数"}},[s("i",{staticClass:"el-icon-thumb"}),s("span",[e._v("43")])]),s("div",{staticClass:"remark",attrs:{titie:"评论次数"}},[s("i",{staticClass:"el-icon-chat-dot-round"}),s("span",[e._v("12")])]),s("div",{staticClass:"level",attrs:{title:"等级"}},[s("i",{staticClass:"el-icon-s-flag"}),s("span",[e._v("4")])]),s("div",{staticClass:"integral",attrs:{title:"积分"}},[s("i",{staticClass:"el-icon-attract"}),s("span",[e._v("24")])]),s("div",{staticClass:"collection",attrs:{title:"收藏"}},[s("i",{staticClass:"el-icon-star-on"}),s("span",[e._v("6")])]),s("div",{staticClass:"message",attrs:{title:"消息"}},[s("i",{staticClass:"el-icon-message-solid"}),s("span",[e._v("545")])])])}],U=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("div",{staticClass:"live2d-panel"},[e.isDialogue?s("dialogue",{ref:"dialogue",attrs:{customDialogue:e.customDialogue,dialogueStyle:{backgroundColor:"#fff9"}}}):e._e(),e.islive2d?s("live2d",{ref:"l2dMange",attrs:{modelPath:e.modelPath}}):e._e()],1)])},y=[],j=(s("99af"),["萝莉控是什么呀","你看到我的小熊了吗?","110吗，这里有个变态一直在摸我(ó﹏ò｡)","我要生气哟(ー`´ー)","哼! 你会后悔的!!","想知道我的一切么？","保持微笑就好","喜欢换装play?","干嘛呢你，快把手拿开","别过来,变态!"]),O={mouseover:[{selector:[".live2d"],message:j.concat(["鼠…鼠标放错地方了！","是…是不小心碰到了吧","再摸的话我可要报警了！⌇●﹏●⌇"])}],click:[{selector:[".live2d"],message:j}]},E={data:function(){return{modelPath:"./model/Pio/model.json",customDialogue:O,islive2d:!0,isDialogue:!0}},mounted:function(){var e=this;setInterval((function(){fetch("https://api.imjad.cn/hitokoto/?cat=&charset=utf-8&length=28&encode=json").then((function(e){return e.json()})).then((function(t){try{e.$refs.dialogue.showMessage(t.hitokoto)}catch(s){return!1}}))}),1e4)},methods:{}},$=E,x=(s("1699"),Object(v["a"])($,U,y,!1,null,"1e16a34a",null)),B=x.exports,A={props:{changePage:{type:Function,required:!0}},data:function(){return{showBtns:!1,bgUserDefault:"../assets/image/bg-user.jpg"}},mounted:function(){},methods:Object(i["a"])({fetchUserInfoAll:function(){var e=this;u["a"].fetchUserInfoAll().then((function(t){return e.$store.commit("UPDATE_USER_INFO_ALL",t.data)}),(function(e){return console.log(e)}))},editInfo:function(){},fllow:function(){d["Notification"].info("功能正在开发中")},fans:function(){d["Notification"].info("功能正在开发中")},away:function(){d["Notification"].info("功能正在开发中")},logout:function(){Object(l["c"])(),this.$store.commit("UPDATE_USER_INFO",{userName:void 0,userToken:void 0}),this.changePage("login"),d["Notification"].success("退出登录")},editUserBackground:function(){}},Object(o["b"])(["getUserAllInfo"])),computed:{userInfo:function(){return this.getUserAllInfo()}},components:{live2d:B}},R=A,T=(s("0daa"),Object(v["a"])(R,k,I,!1,null,"45e95a39",null)),L=T.exports,D={data:function(){return{logined:!1,page:"home"}},mounted:function(){this.userBasicInfo.userToken||(this.page="login");var e=this;window.changePage=function(t){return e.page=t},window.getInfo=function(){return console.log(e.userBasicInfo.userToken)}},computed:{userBasicInfo:function(){return this.getUserBasicInfo()}},components:{UserLogin:h,UserRegist:b,UserInfo:L},methods:Object(i["a"])({},Object(o["b"])(["getUserBasicInfo"]))},F=D,S=(s("dcd4"),Object(v["a"])(F,a,n,!1,null,"de0c1980",null));t["default"]=S.exports},"4e82":function(e,t,s){},"781f":function(e,t,s){},"7d68":function(e,t,s){},"894d":function(e,t,s){},b107:function(e,t,s){"use strict";var a=s("894d"),n=s.n(a);n.a},dcd4:function(e,t,s){"use strict";var a=s("4e82"),n=s.n(a);n.a}}]);
//# sourceMappingURL=chunk-977226ca.20132fbb.js.map